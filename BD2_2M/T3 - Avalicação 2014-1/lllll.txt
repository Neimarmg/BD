CREATE TABLE vendas_itens {
	codigo_item serial PRIMARY KEY, 
	codigo_venda INTEGER, 
	codigo_produto INTEGER, 
	quantidade_item INTEGER
)

SELECT * Itens_venda;


CREATE TABLE vendas {
	idVenda serial PRIMARY KEY, 
	data_venda DATE, 
	cpf_cliente VARCHAR, 
	cpf_funcionario VARCHAR
)

SELECT * vendas;


CREATE TABLE bonus {
	codigo_bonus serial PRIMARY KEY, 
	codigo_bonus INTEGER, 
	cpf_cliente INTEGER, 
	codigo_venda INTEGER, 
	bonus DOUBLE
)

SELECT * bonus;

CREATE TABLE produtos (

	idProduto serial PRIMARY KEY, 
	nome VARCHAR(50) UNIQUE NOT NULL,
	unidade INTEGER, 
	quantidade INTEGER NOT NULL, 
	preco_unitario DOUBLE, 
	estoque_minimo INTEGER,
	estoque_maximo INTEGER UNIQUE
	
)

SELECT * produtos;

ALTER TABLE produtos ALTER column quantidade type NUMERIC;


-- Exe 11
CREATE or replace FUNCTION get_produto_mais_carro() RETURNS TABLE (
nomeProduto VARCHAR (15),
preco DOUBLE (10,2)) AS $$
BEGIN
RETURN 
	QUERY SELECT INTO
		produtos.nome, 
		produtos.preco_unitario
		FROM produtos 
        WHERE produtos.preco_unitario > 1000;
RETURN;
END;
$$ LANGUAGE 'plpgsql'


SELECT * FROM blog_get_pessoas3();

